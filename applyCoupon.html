<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Grocery | Fruits and Vegetables</title>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald|Noto+Sans">
    <link rel="stylesheet" href="/css/grocery.css">
    <link rel="stylesheet" href="/css/from.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
</head>

<body>
  <div class="header">
      <div id="logo"> <a href="index.html">My Grocery</a></div>
      <div id="navbar">
          <ul>
              <li class="dropdown"><a href="javascript:void(0)" class="dropbtn">Category</a>
                  <div class="dropdown-content">
                      <a href="javascript:void(0)">Fruits and vegetables</a>
                      <a href="javascript:void(0)">Dairy and eggs</a>
                      <a href="javascript:void(0)">Bakery</a>
                      <a href="javascript:void(0)">Meat</a>
                      <a href="javascript:void(0)">Pantry</a>
                      <a href="javascript:void(0)">Meals</a>
                  </div>
              </li>
              <li><a href="weekDeal.html">Flyer</a></li>
              <li><a href="javascript:void(0)">Service</a></li>
              <li style="float:right"><a href="createAccount.html"><img src="images/Account.png" alt="account"
                          title="account" class="headerimage" />My Account</a></li>
              <li style="float:right"><a href="javascript:void(0)"><img src="images/shopping-cart.png"
                          alt="shopping cart" title="shopping cart" class="headerimage" /></a></li>
          </ul>
      </div>
  </div>
    <section class="content">
        <h1 class="content__heading">Enter your custom Coupon Code.</h1>
        <form class="content__form contact-form">
          <div class="testing">
            <p>Please fill in your personal information and apply the code that you got from our social medias.</p>
          </div>
          <div class="contact-form__input-group">
            <input class="contact-form__input contact-form__input--radio" id="salutation-mr" name="salutation" type="radio" value="Mr."/>
            <label class="contact-form__label contact-form__label--radio" for="salutation-mr">Mr.</label>
            <input class="contact-form__input contact-form__input--radio" id="salutation-mrs" name="salutation" type="radio" value="Mrs."/>
            <label class="contact-form__label contact-form__label--radio" for="salutation-mrs">Mrs.</label>
            <input class="contact-form__input contact-form__input--radio" id="salutation-ms" name="salutation" type="radio" value="Ms."/>
            <label class="contact-form__label contact-form__label--radio" for="salutation-ms">Ms.</label>
          </div>
          <div class="contact-form__input-group">
            <label class="contact-form__label" for="name">Full Name</label>
            <input class="contact-form__input contact-form__input--text" id="name" name="name" type="text"/>
          </div>
          <div class="contact-form__input-group">
            <label class="contact-form__label" for="email">Email Address</label>
            <input class="contact-form__input contact-form__input--email" id="email" name="email" type="email"/>
          </div>
          <div class="contact-form__input-group">
            <label class="contact-form__label" for="promoCode">Apply the code</label>
            <input class="contact-form__input contact-form__input--text" id="promoCode" name="promoCode" type="text"/>
          </div>
          <div class="contact-form__input-group">
            <p class="contact-form__label--checkbox-group">Do you want recieve</p>
            <input class="contact-form__input contact-form__input--checkbox" id="promoDiscount" name="subscriptions" type="checkbox" value="promotion letters"/>
            <label class="contact-form__label contact-form__label--checkbox" for="promoDiscount">our promotion letters</label>
            <input class="contact-form__input contact-form__input--checkbox" id="allMarketing" name="subscriptions" type="checkbox" value="marketing letters"/>
            <label class="contact-form__label contact-form__label--checkbox" for="allMarketing">all our marketing letters</label>
          </div>
          <input name="secret" type="hidden" value="1b3a9374-1a8e-434e-90ab-21aa7b9b80e7"/>
          <button class="contact-form__button" type="submit">Generate your QRcode</button>
        </form>
      </section>
      <div class="results">
        <pre class="results__display-wrapper"><code class="results__display"></code></pre>
      </div>

      <script>

const isValidElement = element => {
  return element.name && element.value;
};

/**
 * Checks if an element’s value can be saved (e.g. not an unselected checkbox).
 * @param  {Element} element  the element to check
 * @return {Boolean}          true if the value should be added, false if not
 */
const isValidValue = element => {
  return (!['checkbox', 'radio'].includes(element.type) || element.checked);
};

/**
 * Checks if an input is a checkbox, because checkboxes allow multiple values.
 * @param  {Element} element  the element to check
 * @return {Boolean}          true if the element is a checkbox, false if not
 */
const isCheckbox = element => element.type === 'checkbox';



/**
 * A more verbose implementation of `formToJSON()` to explain how it works.
 *
 * NOTE: This function is unused, and is only here for the purpose of explaining how
 * reducing form elements works.
 *
 * @param  {HTMLFormControlsCollection} elements  the form elements
 * @return {Object}                               form data as an object literal
 */
const formToJSON_deconstructed = elements => {
  
  // This is the function that is called on each element of the array.
  const reducerFunction = (data, element) => {
    
    // Add the current field to the object.
    data[element.name] = element.value;
    
    // For the demo only: show each step in the reducer’s progress.
    console.log(JSON.stringify(data));

    return data;
  };
  
  // This is used as the initial value of `data` in `reducerFunction()`.
  const reducerInitialValue = {};
  
  // To help visualize what happens, log the inital value, which we know is `{}`.
  console.log('Initial `data` value:', JSON.stringify(reducerInitialValue));
  
  // Now we reduce by `call`-ing `Array.prototype.reduce()` on `elements`.
  const formData = [].reduce.call(elements, reducerFunction, reducerInitialValue);
  
  // The result is then returned for use elsewhere.
  return formData;
};

/**
 * Retrieves input data from a form and returns it as a JSON object.
 * @param  {HTMLFormControlsCollection} elements  the form elements
 * @return {Object}                               form data as an object literal
 */
const formToJSON = elements => [].reduce.call(elements, (data, element) => {

  // Make sure the element has the required properties and should be added.
  if (isValidElement(element) && isValidValue(element)) {

    /*
     * Some fields allow for more than one value, so we need to check if this
     * is one of those fields and, if so, store the values as an array.
     */
    if (isCheckbox(element)) {
      data[element.name] = (data[element.name] || []).concat(element.value);
    } else {
      data[element.name] = element.value;
    }
  }

  return data;
}, {});

/**
 * A handler function to prevent default submission and run our custom script.
 * @param  {Event} event  the submit event triggered by the user
 * @return {void}
 */
const handleFormSubmit = event => {
  
  // Stop the form from submitting since we’re handling that with AJAX.
  event.preventDefault();
  
  // Call our function to get the form data.
  const data = formToJSON(form.elements);

  // Demo only: print the form data onscreen as a formatted JSON object.
  const dataContainer = document.getElementsByClassName('results__display')[0];
    
  // Use `JSON.stringify()` to make the output valid, human-readable JSON.
  dataContainer.textContent = JSON.stringify(data, null, 2);
  
  // ...this is where we’d actually do something with the form data...
};

/*
 * This is where things actually get started. We find the form element using
 * its class name, then attach the `handleFormSubmit()` function to the 
 * `submit` event.
 */
const form = document.getElementsByClassName('contact-form')[0];
form.addEventListener('submit', handleFormSubmit);




      </script>
</body>
</html>